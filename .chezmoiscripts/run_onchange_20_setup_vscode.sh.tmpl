#!/bin/bash

# The next line will trigger the script on every VSCode update
# VSCode version: {{ output "code" "-v" | replaceAllRegex "\n" " " }}

extensions=(
    asciidoctor.asciidoctor-vscode
    ms-azuretools.vscode-docker
    GraphQL.vscode-graphql
    GraphQL.vscode-graphql-syntax
    ms-python.debugpy
    ms-python.python
    ms-python.vscode-pylance
    ms-toolsai.jupyter
    ms-toolsai.jupyter-keymap
    ms-toolsai.jupyter-renderers
    ms-toolsai.vscode-jupyter-cell-tags
    ms-toolsai.vscode-jupyter-slideshow
    ms-vscode.makefile-tools
)

osascript -e 'tell application "Visual Studio Code" to quit'

echo "üõ†Ô∏è  Configuring VSCode preferences & plugins"

# Install or upgrade all extensions
for extension in "${extensions[@]}"; do
    code --install-extension "$extension" --force
done
